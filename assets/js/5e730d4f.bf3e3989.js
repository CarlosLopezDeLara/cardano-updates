"use strict";(self.webpackChunkcardano_updates=self.webpackChunkcardano_updates||[]).push([[76762],{3905:(e,t,o)=>{o.d(t,{Zo:()=>l,kt:()=>h});var r=o(67294);function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){n(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,r,n=function(e,t){if(null==e)return{};var o,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||(n[o]=e[o]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)o=a[r],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(n[o]=e[o])}return n}var u=r.createContext({}),p=function(e){var t=r.useContext(u),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},l=function(e){var t=p(e.components);return r.createElement(u.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var o=e.components,n=e.mdxType,a=e.originalType,u=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),c=p(o),m=n,h=c["".concat(u,".").concat(m)]||c[m]||d[m]||a;return o?r.createElement(h,i(i({ref:t},l),{},{components:o})):r.createElement(h,i({ref:t},l))}));function h(e,t){var o=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=o.length,i=new Array(a);i[0]=m;var s={};for(var u in t)hasOwnProperty.call(t,u)&&(s[u]=t[u]);s.originalType=e,s[c]="string"==typeof e?e:n,i[1]=s;for(var p=2;p<a;p++)i[p]=o[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,o)}m.displayName="MDXCreateElement"},63341:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>u,contentTitle:()=>i,default:()=>d,frontMatter:()=>a,metadata:()=>s,toc:()=>p});var r=o(87462),n=(o(67294),o(3905));const a={title:"Network Team Update",slug:"2023-05-12-network",authors:"coot",tags:["network"],hide_table_of_contents:!1},i=void 0,s={permalink:"/cardano-updates/2023-05-12-network",editUrl:"https://github.com/input-output-hk/cardano-updates/tree/main/blog/2023-05-12-network.md",source:"@site/blog/2023-05-12-network.md",title:"Network Team Update",description:"High level summary",date:"2023-05-12T00:00:00.000Z",formattedDate:"May 12, 2023",tags:[{label:"network",permalink:"/cardano-updates/tags/network"}],readingTime:1.79,hasTruncateMarker:!1,authors:[{name:"Marcin Szamotulski",title:"Network Team Lead",url:"https://github.com/coot",imageURL:"https://github.com/coot.png",key:"coot"}],frontMatter:{title:"Network Team Update",slug:"2023-05-12-network",authors:"coot",tags:["network"],hide_table_of_contents:!1},prevItem:{title:"Hydra Team Update",permalink:"/cardano-updates/2023-05-12-hydra"},nextItem:{title:"Ledger Team Update",permalink:"/cardano-updates/2023-05-05-ledger"}},u={authorsImageUrls:[void 0]},p=[{value:"High level summary",id:"high-level-summary",level:2},{value:"Detailed summary",id:"detailed-summary",level:2}],l={toc:p},c="wrapper";function d(e){let{components:t,...o}=e;return(0,n.kt)(c,(0,r.Z)({},l,o,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"high-level-summary"},"High level summary"),(0,n.kt)("p",null,"We started working on a new way to switch between root & ledger peers (see\nbelow).  We continued to work on ",(0,n.kt)("inlineCode",{parentName:"p"},"eclipse-evasion"),".  We merged changes to\nHandshake contributed by Galois Inc.  We made improvements to our tests (fixed\na flaky test, added cddl specs for ",(0,n.kt)("inlineCode",{parentName:"p"},"NodeToNodeVersionData")," and\n",(0,n.kt)("inlineCode",{parentName:"p"},"NodeToClientVersionData"),").  We improved our CI and automated the process of\nreleasing new package version to ",(0,n.kt)("inlineCode",{parentName:"p"},"CHaP"),"."),(0,n.kt)("h2",{id:"detailed-summary"},"Detailed summary"),(0,n.kt)("p",null,"We continued to work on testing ",(0,n.kt)("inlineCode",{parentName:"p"},"eclipse-evasion"),"."),(0,n.kt)("p",null,"We came up with an idea to limit how full node wallets relay on root peers\n(currently operated by IOG, in future also CF and Emurgo).  We designed\na switch to use ledger peers if the node tip is close enough to the current\ntime.  For more details see ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/ouroboros-network/issues/4530"},"#4530"),"."),(0,n.kt)("p",null,"We merged changes to the handshake mini-protocol which allow one to query\nserver's ",(0,n.kt)("inlineCode",{parentName:"p"},"node-to-node")," / ",(0,n.kt)("inlineCode",{parentName:"p"},"node-to-client")," parameters.  We are grateful to\nGalois Inc. for implementing it, ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/ouroboros-network/issues/4256"},"#4256")," and ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/ouroboros-network/issues/4538"},"#4538"),".  We published new version\nof packages to CHaP ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/cardano-haskell-packages/pull/253"},"chap-#253"),"."),(0,n.kt)("p",null,"We added ",(0,n.kt)("inlineCode",{parentName:"p"},"DiffusionError")," wrapper.  Thanks to it, ",(0,n.kt)("inlineCode",{parentName:"p"},"ouroboros-consensus")," will\nnot duplicate diffusion errors messages in the log, ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/ouroboros-network/issues/4537"},"#4537"),"."),(0,n.kt)("p",null,"We fixed an issue which caused one of our tests to be flaky, ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/ouroboros-network/issues/4515"},"#4515"),"."),(0,n.kt)("p",null,"We added cddl tests for ",(0,n.kt)("inlineCode",{parentName:"p"},"NodeToNodeVersionData")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"NodeToClientVersionData"),":\n",(0,n.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/ouroboros-network/issues/4540"},"#4540"),", ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/ouroboros-network/issues/4544"},"#4544")," (in review)."),(0,n.kt)("p",null,"We wrote scripts which will help us release packages as well as verify that we\nreleased all the package necessary to build the newest set of packages,\n",(0,n.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/ouroboros-network/issues/4542"},"#4542"),"."),(0,n.kt)("p",null,"We renamed the consensus startup tracer and make sure it doesn't log\n",(0,n.kt)("inlineCode",{parentName:"p"},"ExitSuccess")," exceptions, ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/ouroboros-consensus/pulls/71"},"consensus-#71"),"."),(0,n.kt)("p",null,"We reviewed PR which adds ",(0,n.kt)("inlineCode",{parentName:"p"},"RawBearer")," API, ",(0,n.kt)("a",{parentName:"p",href:"https://github.com/input-output-hk/ouroboros-network/issues/4395"},"#4395"),"."),(0,n.kt)("p",null,"We made series of improvements to our CI:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/input-output-hk/ouroboros-network/issues/4539"},"#4539"),": we don't need to install cryptographic libraries in CI;"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/input-output-hk/ouroboros-network/issues/4545"},"#4545"),": Javier Sagredo (consensus) cleaned up CI after ",(0,n.kt)("inlineCode",{parentName:"li"},"consensus")," moved\nto a new repo;"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/input-output-hk/ouroboros-network/issues/4546"},"#4546"),": we switched to use ",(0,n.kt)("a",{parentName:"li",href:"https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/configuring-pull-request-merges/managing-a-merge-queue"},"GitHub merge queues"),";"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/input-output-hk/ouroboros-network/issues/4549"},"#4549"),": we made it possible to trigger building haddocks manually;"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("a",{parentName:"li",href:"https://github.com/input-output-hk/ouroboros-network/issues/4553"},"#4553"),": we fixed and enhanced caching of building dependencies.")))}d.isMDXComponent=!0}}]);