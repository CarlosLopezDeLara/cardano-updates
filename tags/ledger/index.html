<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-updates">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">15 posts tagged with &quot;ledger&quot; | Cardano Development Updates</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://input-output-hk.github.io/cardano-updates/tags/ledger"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="15 posts tagged with &quot;ledger&quot; | Cardano Development Updates"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/cardano-updates/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://input-output-hk.github.io/cardano-updates/tags/ledger"><link data-rh="true" rel="alternate" href="https://input-output-hk.github.io/cardano-updates/tags/ledger" hreflang="en"><link data-rh="true" rel="alternate" href="https://input-output-hk.github.io/cardano-updates/tags/ledger" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/cardano-updates/rss.xml" title="Cardano Updates Feed RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/cardano-updates/atom.xml" title="Cardano Updates Feed Atom Feed">
<link rel="alternate" type="application/json" href="/cardano-updates/feed.json" title="Cardano Updates Feed JSON Feed">



<link rel="alternate" type="application/rss+xml" href="/cardano-updates/quarterly/rss.xml" title="Cardano Development Updates RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/cardano-updates/quarterly/atom.xml" title="Cardano Development Updates Atom Feed">
<script src="https://plausible.io/js/script.js" defer="defer" data-domain="input-output-hk.github.io/cardano-updates"></script><link rel="stylesheet" href="/cardano-updates/assets/css/styles.1b2b551c.css">
<link rel="preload" href="/cardano-updates/assets/js/runtime~main.ed665f73.js" as="script">
<link rel="preload" href="/cardano-updates/assets/js/main.82a1f51d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cardano-updates/"><div class="navbar__logo"><img src="/cardano-updates/img/logo.svg" alt="Cardano Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/cardano-updates/img/logo.svg" alt="Cardano Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Cardano Updates</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cardano-updates/">Home</a><a class="navbar__item navbar__link" href="/cardano-updates/quarterly">Quarterly</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/cardano-updates/tags">Topics</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/cardano-updates/tags">All Topics</a></li><li><a class="dropdown__link" href="/cardano-updates/tags/network">Network</a></li><li><a class="dropdown__link" href="/cardano-updates/tags/consensus">Consensus</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/cardano-updates/tags/ledger">Ledger</a></li><li><a class="dropdown__link" href="/cardano-updates/tags/hydra">Hydra</a></li><li><a class="dropdown__link" href="/cardano-updates/tags/db-sync">DB Sync</a></li><li><a class="dropdown__link" href="/cardano-updates/tags/cli-api">Node CLI &amp; API</a></li><li><a class="dropdown__link" href="/cardano-updates/quarterly/tags/cli-api-quarterly">Node CLI &amp; API Quarterly</a></li><li><a class="dropdown__link" href="/cardano-updates/tags/crypto">Crypto</a></li></ul></div><a class="navbar__item navbar__link" href="/cardano-updates/archive">Archive</a><a href="https://github.com/input-output-hk/cardano-updates" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent Posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cardano-updates/2023-03-17-hydra">Hydra Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cardano-updates/2023-03-17-ledger">Ledger Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cardano-updates/2023-03-16-goedel">Goedel Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cardano-updates/2023-03-10-hydra">Hydra Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cardano-updates/2023-03-09-mithril">Mithril Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cardano-updates/2023-03-08-consensus">Consensus Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cardano-updates/2023-03-08-performance-and-tracing">Performance &amp; tracing update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cardano-updates/2023-03-03-crypto">Crypto Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cardano-updates/2023-03-03-goedel">Goedel Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cardano-updates/2023-03-03-hydra">Hydra Team Update</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>15 posts tagged with &quot;ledger&quot;</h1><a href="/cardano-updates/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/cardano-updates/2023-03-17-ledger">Ledger Team Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-03-17T00:00:00.000Z" itemprop="datePublished">March 17, 2023</time> Â· <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/JaredCorduan.png" alt="Jared Corduan"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jared Corduan</span></a></div><small class="avatar__subtitle" itemprop="description">Ledger Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-summary">High level summary<a class="hash-link" href="#high-level-summary" title="Direct link to heading">â</a></h2><p>We made further progress on the conway ledger era.
In particular, we expanded the ledger API significantly, including lots of governance features.
We also made progress on the specification and corresponding work in the Haskell implementation.</p><p>We also continued to integrate the latest ledger packages into cardano node and addressed
technical debt.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="low-level-summary">Low level summary<a class="hash-link" href="#low-level-summary" title="Direct link to heading">â</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="expanded-ledger-api">Expanded ledger API<a class="hash-link" href="#expanded-ledger-api" title="Direct link to heading">â</a></h3><p>The ledger API was significantly expanded to include:</p><ul><li>a lot of protocol parameter support</li><li>versioning support (type level ledger eras and protocol versions)</li><li>auxiliary data support</li><li>many new lenses</li><li>support for witnesses</li><li>support for conway governance</li></ul><p>See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3328" target="_blank" rel="noopener noreferrer">pull-3328</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="conway-ledger-rules">Conway ledger rules<a class="hash-link" href="#conway-ledger-rules" title="Direct link to heading">â</a></h3><p>We have made progress on the formal ledger specification for the Conway era.
Moreover, the corresponding Haskell updates were also completed:</p><ul><li>See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3339" target="_blank" rel="noopener noreferrer">pull-3339</a></li><li>See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3326" target="_blank" rel="noopener noreferrer">pull-3326</a></li><li>See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3330" target="_blank" rel="noopener noreferrer">pull-3330</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="incremental-spodrep-stake-distribution-computation">Incremental SPO/DRep stake distribution computation<a class="hash-link" href="#incremental-spodrep-stake-distribution-computation" title="Direct link to heading">â</a></h3><p>We have a working (and correct) proof of concept for how to use the incremental lambda calculus
to maintain several of the stake distributions incrementally.
For the per-SPO distribution, this is a performance improvement.
For the (conway) per-DRep distribution, this is will allow those who have delegated their votes
to a DRep to have time to react to any votes that they disapprove of.
(Sorry, no code to share just yet, more to come.)</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="technical-debt">Technical debt<a class="hash-link" href="#technical-debt" title="Direct link to heading">â</a></h3><ul><li>Improved CBOR testing facilities <a href="https://github.com/input-output-hk/cardano-ledger/pull/3332" target="_blank" rel="noopener noreferrer">pull-3332</a></li><li>GitHub actions improvement <a href="https://github.com/input-output-hk/cardano-ledger/pull/3320" target="_blank" rel="noopener noreferrer">pull-3320</a></li><li>Move ToJSON orphans from cardano-node <a href="https://github.com/input-output-hk/cardano-ledger/pull/3338" target="_blank" rel="noopener noreferrer">pull-3323</a></li><li>Minor OCert improvements <a href="https://github.com/input-output-hk/cardano-ledger/pull/3327" target="_blank" rel="noopener noreferrer">pull-3327</a></li><li>Remove duplication <a href="https://github.com/input-output-hk/cardano-ledger/pull/3341" target="_blank" rel="noopener noreferrer">pull-3341</a></li><li>Enforce unique elements in CBOR sets <a href="https://github.com/input-output-hk/cardano-ledger/pull/3331" target="_blank" rel="noopener noreferrer">pull-3331</a> </li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/cardano-updates/tags/ledger">ledger</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/cardano-updates/2023-03-03-ledger">Ledger Team Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-03-03T00:00:00.000Z" itemprop="datePublished">March 3, 2023</time> Â· <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/JaredCorduan.png" alt="Jared Corduan"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jared Corduan</span></a></div><small class="avatar__subtitle" itemprop="description">Ledger Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-summary">High level summary<a class="hash-link" href="#high-level-summary" title="Direct link to heading">â</a></h2><p>We have focused the last two weeks on CIP-1694, integration of the last several months of ledger
work into consensus and node, and testing infrastrutcture that we will use in the conway ledger era.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="low-level-summary">Low level summary<a class="hash-link" href="#low-level-summary" title="Direct link to heading">â</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="conway-rules">Conway rules<a class="hash-link" href="#conway-rules" title="Direct link to heading">â</a></h3><p>We made a major update to the conway era so that the implementation is now in sync with the spec
with respect to the ratification and enactment logic.</p><p>See the notes in <a href="https://github.com/input-output-hk/cardano-ledger/pull/3291" target="_blank" rel="noopener noreferrer">pull-3291</a> for more details.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="constraint-based-generators">Constraint based generators<a class="hash-link" href="#constraint-based-generators" title="Direct link to heading">â</a></h3><p>This week we hit a major milestone in our efforts to build out better property based testing
support for the main ledger properties.
The new constraint based generators can now generate full ledger states with what is probably
very close to the real constraints (if anything, it is under constrained).
Next we will work on generating a transaction in the context of a ledger state, which would allow
us to actually start using these generators for real tests.</p><p>See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3219" target="_blank" rel="noopener noreferrer">pull-3219</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="preparing-a-release-now-with-proper-versioning">Preparing a release, now with proper versioning<a class="hash-link" href="#preparing-a-release-now-with-proper-versioning" title="Direct link to heading">â</a></h3><p>After quite some time, we are ready to release a version of ledger that will work with a new
version of consensus, using CHaPs.</p><p>See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3308" target="_blank" rel="noopener noreferrer">pull-3308</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="technical-debt">Technical debt<a class="hash-link" href="#technical-debt" title="Direct link to heading">â</a></h3><ul><li>We cleaned up the redeemer serialization code (to prevent future mistakes). See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3269" target="_blank" rel="noopener noreferrer">pull-3269</a>.</li><li>We added a note to the Alonzo spec, specifying that the transaction inputs are
lexicographically ordered in the Plutus script context. See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3306" target="_blank" rel="noopener noreferrer">pull-3306</a>.</li><li>We fixed a problem with the address deserialiazation
(we mistakenly fixed a bug in the Babbage era which cannot be fixed until Conway).
See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3307" target="_blank" rel="noopener noreferrer">pull-3307</a>.</li><li>We fixed a problem with our nix build. See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3311" target="_blank" rel="noopener noreferrer">pull-3311</a>.</li><li>We fixed a problem with our <code>NoThunks</code> tests. See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3310" target="_blank" rel="noopener noreferrer">pull-3310</a>.</li><li>We improved our nightly tests. See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3316" target="_blank" rel="noopener noreferrer">pull-3316</a>.</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/cardano-updates/tags/ledger">ledger</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/cardano-updates/2023-02-17-ledger">Ledger Team Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-02-17T00:00:00.000Z" itemprop="datePublished">February 17, 2023</time> Â· <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/JaredCorduan.png" alt="Jared Corduan"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jared Corduan</span></a></div><small class="avatar__subtitle" itemprop="description">Ledger Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-summary">High level summary<a class="hash-link" href="#high-level-summary" title="Direct link to heading">â</a></h2><p>This past two weeks saw many months worth of ledger changes integrated with the <code>cardano-base</code>
and <code>ouroboros-network</code> repositories.
The vast majority of the effort involved all the changes to the ledger serialization libraries
(and the interplay with <code>cardano-base</code>) which now support proper versioning.
Supporting the conway ledger era, and in particular allowing the ledger state to transition
to a whole new system of governance, also played a noticeable part in the integration.</p><p>Besides the integration work, the team continues to address technical debt, improve the
documentation, make our testing infrastructure better (such as experimenting with better
nightly tests), and formally specifying more parts of CIP-1694.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lower-level-summary">Lower level summary<a class="hash-link" href="#lower-level-summary" title="Direct link to heading">â</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="integration-work">Integration work<a class="hash-link" href="#integration-work" title="Direct link to heading">â</a></h3><p>Below is all the integration work completed, which will enable a release to node from
the current ledger master. Many thanks to
<a href="https://github.com/lehins" target="_blank" rel="noopener noreferrer">Alexey</a> for this colossal undertaking!</p><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3303" target="_blank" rel="noopener noreferrer">pull-3303</a></li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3302" target="_blank" rel="noopener noreferrer">pull-3302</a></li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3300" target="_blank" rel="noopener noreferrer">pull-3300</a></li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3299" target="_blank" rel="noopener noreferrer">pull-3299</a></li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3298" target="_blank" rel="noopener noreferrer">pull-3298</a></li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3297" target="_blank" rel="noopener noreferrer">pull-3297</a></li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3292" target="_blank" rel="noopener noreferrer">pull-3292</a></li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3289" target="_blank" rel="noopener noreferrer">pull-3289</a></li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3288" target="_blank" rel="noopener noreferrer">pull-3288</a></li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3279" target="_blank" rel="noopener noreferrer">pull-3279</a></li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3282" target="_blank" rel="noopener noreferrer">pull-3282</a></li><li><a href="https://github.com/input-output-hk/ouroboros-network/pull/4349" target="_blank" rel="noopener noreferrer">pull-4349</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="technical-debt">Technical debt<a class="hash-link" href="#technical-debt" title="Direct link to heading">â</a></h3><p>Starting in major protocol version 9, zero-valued multi-assets will no longer be permitted
in the CBOR specification. See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3241" target="_blank" rel="noopener noreferrer">pull-3241</a>.</p><p>We now have our <code>.cabal</code> files being checked for a consistent formatting given by
<code>cabal format</code> in our CI. See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3286" target="_blank" rel="noopener noreferrer">pull-3286</a>.</p><p>We are still experimenting with better nightly tests for our long running
property based tests. See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3276" target="_blank" rel="noopener noreferrer">pull-3276</a> and <a href="https://github.com/input-output-hk/cardano-ledger/pull/3296" target="_blank" rel="noopener noreferrer">pull-3296</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="small-documentation-improvements">Small documentation improvements<a class="hash-link" href="#small-documentation-improvements" title="Direct link to heading">â</a></h3><p>The hand proofs of the preservation ADA property have been added back to the
Shelley ledger specification. See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3295" target="_blank" rel="noopener noreferrer">pull-3295</a>.</p><p>We have clarified how the script integrity hash is computed in the CDDL description.
See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3290" target="_blank" rel="noopener noreferrer">pull-3290</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="specifying-cip-1694">Specifying CIP-1694<a class="hash-link" href="#specifying-cip-1694" title="Direct link to heading">â</a></h3><p>Our new formal specifications backed by Agda have seen a lot of progress!
Upgrading to Agda 2.6.3 fixed our main build infrastructure problems,
and we no longer have to rely on our custom fork. See <a href="https://github.com/input-output-hk/formal-ledger-specifications/pull/50" target="_blank" rel="noopener noreferrer">pull-50</a>.</p><p>Our progress on formally specifying CIP-1694 can be followed here:</p><ul><li>in Agda: <a href="https://github.com/input-output-hk/formal-ledger-specifications/pull/40" target="_blank" rel="noopener noreferrer">pull-40</a></li><li>the corresponding Haskell: <a href="https://github.com/input-output-hk/cardano-ledger/pull/3291" target="_blank" rel="noopener noreferrer">pull-3291</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="constraint-based-testing">Constraint based testing<a class="hash-link" href="#constraint-based-testing" title="Direct link to heading">â</a></h3><p>We are still actively working on our new constraint based property testing framework.
We have nearly all of the constraints for an entire ledger state
hooked into generators, and tests that the generators do indeed obey the constraints.
The variable count in the constraints is over 100!
There is still much work to do on shrinking, making the generators faster,
and writing actual property tests for the ledger, but the approach still seems viable and
we are hopeful that it could replace our trace generators.
The WIP can be followed here: <a href="https://github.com/input-output-hk/cardano-ledger/pull/3219" target="_blank" rel="noopener noreferrer">pull-3219</a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/cardano-updates/tags/ledger">ledger</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/cardano-updates/2023-02-02-ledger">Ledger Team Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-02-02T00:00:00.000Z" itemprop="datePublished">February 2, 2023</time> Â· <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/JaredCorduan.png" alt="Jared Corduan"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jared Corduan</span></a></div><small class="avatar__subtitle" itemprop="description">Ledger Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-summary">High level summary<a class="hash-link" href="#high-level-summary" title="Direct link to heading">â</a></h2><p>Much of the work the past two weeks involved integration efforts,
cleaning up and debugging some serialization issues,
adding tests, and work on large projects that are still ongoing.
We also released a CIP this week that aims to make the ledger
a registered CIP category.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lower-level-summary">Lower level summary<a class="hash-link" href="#lower-level-summary" title="Direct link to heading">â</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ledger-evolution-cip">Ledger evolution CIP<a class="hash-link" href="#ledger-evolution-cip" title="Direct link to heading">â</a></h3><p>We published a
<a href="https://github.com/cardano-foundation/CIPs/pull/456" target="_blank" rel="noopener noreferrer">CIP</a>
that will make the Cardano ledger a registered category of the CIP process.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="serialization-issues">Serialization issues<a class="hash-link" href="#serialization-issues" title="Direct link to heading">â</a></h3><p>We had previously thought that we had found a serialization problem with the redeemers,
but it turned out to just be particularly confusing code.
We have now clarified the issue for the future.</p><p>See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3263" target="_blank" rel="noopener noreferrer">pull-3263</a>, <a href="https://github.com/input-output-hk/cardano-ledger/pull/3269" target="_blank" rel="noopener noreferrer">pull-3269</a>, and <a href="https://github.com/input-output-hk/cardano-ledger/pull/3268" target="_blank" rel="noopener noreferrer">pull-3268</a>.</p><p>Starting in protocol version 9, we will no longer accept duplicate keys in CBOR maps.</p><p>See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3277" target="_blank" rel="noopener noreferrer">pull-3277</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="new-tests">New tests<a class="hash-link" href="#new-tests" title="Direct link to heading">â</a></h3><p>We added a new property test suite for some of our custom containers.</p><p>See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3270" target="_blank" rel="noopener noreferrer">pull-3270</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="progress-on-a-better-cost-model-serialization-situation">Progress on a better cost model serialization situation.<a class="hash-link" href="#progress-on-a-better-cost-model-serialization-situation" title="Direct link to heading">â</a></h3><p>We are still working our way through <a href="https://github.com/input-output-hk/cardano-ledger/issues/2902" target="_blank" rel="noopener noreferrer">issue-2902</a>.
Towards this end, we are now properly gating the new flexible encoders
until version 9.</p><p>See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3274" target="_blank" rel="noopener noreferrer">pull-3274</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nightly-tests">Nightly tests<a class="hash-link" href="#nightly-tests" title="Direct link to heading">â</a></h3><p>We are still experimenting with moving more CI actions to GitHub actions.</p><p>See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3276" target="_blank" rel="noopener noreferrer">pull-3276</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="constraint-based-generators">Constraint based generators<a class="hash-link" href="#constraint-based-generators" title="Direct link to heading">â</a></h3><p>We continue to add to our proof of concept for constraint based generators.
See the previous ledger update for more information about this project.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/cardano-updates/tags/ledger">ledger</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/cardano-updates/2023-01-19-ledger">Ledger Team Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-01-19T00:00:00.000Z" itemprop="datePublished">January 19, 2023</time> Â· <!-- -->3 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/JaredCorduan.png" alt="Jared Corduan"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jared Corduan</span></a></div><small class="avatar__subtitle" itemprop="description">Ledger Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-summary">High level summary<a class="hash-link" href="#high-level-summary" title="Direct link to heading">â</a></h2><p>The ledger team completed some preliminary ground work in preparation for CIP-1694
(restructuring the ledger state),
fixed the PDF hosting problem (mostly the formal specs),
built out more of the new user-friendly ledger API,
finished a proof of concept for constraint-based generators for property tests
(with the hopes of being able to replace our trace generators one day),
and addressed technical debt.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="lower-level-summary">Lower level summary<a class="hash-link" href="#lower-level-summary" title="Direct link to heading">â</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="restructuring-the-ledger-state">Restructuring the ledger state<a class="hash-link" href="#restructuring-the-ledger-state" title="Direct link to heading">â</a></h3><p>The existing governance structures will be replace in the conway ledger era,
as described in CIP-1694.
In particular, the ledger rules will be restructured as follows:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">   BBODY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    |-------------------------------|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    v                               v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   TICK                            LEDGERS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    |                               |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    |---------|                     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    v         v                     v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   RUPD     ~NEWEPOCH~            ~LEDGER~</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              |                     |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              |----------|          |--------|-------------------|-----------|</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              v          v                   v                   v           v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ~EPOCH~     +ENACTMENT+         DELEGS              UTXOW       +TALLY+</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              |                              |                   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              |---------|------------|       v                   |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              v         v            v      DELPL                v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">             SNAP      POOLREAP    -UPEC-    |                  UTXO</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                             |--------|          |</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                             v        v          v</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                            POOL     DELEG     ~UTXOS~</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-..- Removed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">+..+ Added</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">~..~ Modified</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Moreover, the ledger state will also be restructured in accordance with the new rules.
In the conway code, we have now removed UPEC, added TALLY, and stubbed ENACTMENT.
We have also adapted all the data structures in the ledger state.</p><p>See:</p><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3216" target="_blank" rel="noopener noreferrer">pull-3216</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pdf-hosting">PDF hosting<a class="hash-link" href="#pdf-hosting" title="Direct link to heading">â</a></h3><p>We now build all of our PDFs using a GitHub action which is triggered by pushing a tag
with a specific form, <code>cardano-ledger-spec-YYYY-MM-DD</code>.
The action creates a GitHub release containing the PDFs.
The links in the main ledger README now point to the PDFs in the latest release.</p><p>See:</p><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3245" target="_blank" rel="noopener noreferrer">pull-3245</a></li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3260" target="_blank" rel="noopener noreferrer">pull-3260</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="powering-the-new-ledger-api">Powering the new ledger API<a class="hash-link" href="#powering-the-new-ledger-api" title="Direct link to heading">â</a></h3><p>We have now removed all the <code>HasField</code> instances from the protocol parameter data types,
and replaced them with lenses.
This is probably the last major restructuring that the ledger team will do on the code base
for the API for a while
(the Plutus tools team will be working on it next, see <a href="https://github.com/input-output-hk/cardano-ledger/projects/5" target="_blank" rel="noopener noreferrer">here</a>).
We also added a new helpful function <code>ensureMinCoinTxOut</code>.</p><p>See:</p><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3242" target="_blank" rel="noopener noreferrer">pull-3242</a></li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3248" target="_blank" rel="noopener noreferrer">pull-3248</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="constraint-based-generators">Constraint-based generators<a class="hash-link" href="#constraint-based-generators" title="Direct link to heading">â</a></h3><p>Our largest scale property tests generate an initial ledger state and a long sequence of valid blocks
which span several epochs, mimicking a real network.
These tests are, in theory, excellent for checking properties.
They are, however, very difficult to maintain and are not as random as we would like
(a lot of bias has to be introduced to keep the ledger state in enough order to keep generating blocks).</p><p>We would like to switch to tests which instead generate a random ledger state representative
of not just an initial state, generate a single random valid block, and then test our properties.
The hope is that these will be much more random and easier to maintain.</p><p>We have finished a proof of concept are encouraged that this approach could work!</p><p>See:</p><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3219" target="_blank" rel="noopener noreferrer">pull-3219</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="technical-debt">Technical debt<a class="hash-link" href="#technical-debt" title="Direct link to heading">â</a></h3><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3244" target="_blank" rel="noopener noreferrer">pull-3244</a> massive CI speedup</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3249" target="_blank" rel="noopener noreferrer">pull-3249</a> better types for fees in the protocol parameters</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3264" target="_blank" rel="noopener noreferrer">pull-3264</a> move our annotator code to the <code>cardano-ledger-binary</code> package where it belongs</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3239" target="_blank" rel="noopener noreferrer">pull-3239</a> move the <code>Wdrls</code> type to the <code>Core</code> module.</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/cardano-updates/tags/ledger">ledger</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/cardano-updates/tags/ledger/page/2"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Blog</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cardano-updates/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/cardano-updates/archive">Archive</a></li><li class="footer__item"><a class="footer__link-item" href="/cardano-updates/tags">Tags</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 Input Output Global, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/cardano-updates/assets/js/runtime~main.ed665f73.js"></script>
<script src="/cardano-updates/assets/js/main.82a1f51d.js"></script>
</body>
</html>