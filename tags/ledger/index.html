<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-tags-post-list-page plugin-blog plugin-id-updates">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">18 posts tagged with &quot;ledger&quot; | Cardano Development Updates</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://input-output-hk.github.io/cardano-updates/tags/ledger"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="18 posts tagged with &quot;ledger&quot; | Cardano Development Updates"><meta data-rh="true" name="docusaurus_tag" content="blog_tags_posts"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_tags_posts"><link data-rh="true" rel="icon" href="/cardano-updates/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://input-output-hk.github.io/cardano-updates/tags/ledger"><link data-rh="true" rel="alternate" href="https://input-output-hk.github.io/cardano-updates/tags/ledger" hreflang="en"><link data-rh="true" rel="alternate" href="https://input-output-hk.github.io/cardano-updates/tags/ledger" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/cardano-updates/rss.xml" title="Cardano Updates Feed RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/cardano-updates/atom.xml" title="Cardano Updates Feed Atom Feed">
<link rel="alternate" type="application/json" href="/cardano-updates/feed.json" title="Cardano Updates Feed JSON Feed">



<link rel="alternate" type="application/rss+xml" href="/cardano-updates/quarterly/rss.xml" title="Cardano Development Updates RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/cardano-updates/quarterly/atom.xml" title="Cardano Development Updates Atom Feed">
<script src="https://plausible.io/js/script.js" defer="defer" data-domain="input-output-hk.github.io/cardano-updates"></script><link rel="stylesheet" href="/cardano-updates/assets/css/styles.1b2b551c.css">
<link rel="preload" href="/cardano-updates/assets/js/runtime~main.6970cb6a.js" as="script">
<link rel="preload" href="/cardano-updates/assets/js/main.5e227167.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/cardano-updates/"><div class="navbar__logo"><img src="/cardano-updates/img/logo.svg" alt="Cardano Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/cardano-updates/img/logo.svg" alt="Cardano Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Cardano Updates</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/cardano-updates/">Home</a><a class="navbar__item navbar__link" href="/cardano-updates/quarterly">Quarterly</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/cardano-updates/tags">Topics</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/cardano-updates/tags">All Topics</a></li><li><a class="dropdown__link" href="/cardano-updates/tags/network">Network</a></li><li><a class="dropdown__link" href="/cardano-updates/tags/consensus">Consensus</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/cardano-updates/tags/ledger">Ledger</a></li><li><a class="dropdown__link" href="/cardano-updates/tags/hydra">Hydra</a></li><li><a class="dropdown__link" href="/cardano-updates/tags/db-sync">DB Sync</a></li><li><a class="dropdown__link" href="/cardano-updates/tags/cli-api">Node CLI &amp; API</a></li><li><a class="dropdown__link" href="/cardano-updates/quarterly/tags/cli-api-quarterly">Node CLI &amp; API Quarterly</a></li><li><a class="dropdown__link" href="/cardano-updates/tags/crypto">Crypto</a></li></ul></div><a class="navbar__item navbar__link" href="/cardano-updates/archive">Archive</a><a href="https://github.com/input-output-hk/cardano-updates" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent Posts</div><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cardano-updates/2023-04-28-network">Network Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cardano-updates/2023-04-27-hydra">Hydra Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cardano-updates/2023-04-21-hydra">Hydra Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cardano-updates/2023-04-21-ledger">Ledger Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cardano-updates/2023-04-20-mithril">Mithril Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cardano-updates/2023-04-19-consensus">Consensus Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cardano-updates/2023-04-19-performance-and-tracing">Performance &amp; tracing update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cardano-updates/2023-04-17-ledger">Incident Report</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cardano-updates/2023-04-14-goedel">Goedel Team Update</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/cardano-updates/2023-04-14-hydra">Hydra Team Update</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><header class="margin-bottom--xl"><h1>18 posts tagged with &quot;ledger&quot;</h1><a href="/cardano-updates/tags">View All Tags</a></header><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/cardano-updates/2023-04-21-ledger">Ledger Team Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-04-21T00:00:00.000Z" itemprop="datePublished">April 21, 2023</time> · <!-- -->One min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/JaredCorduan.png" alt="Jared Corduan"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jared Corduan</span></a></div><small class="avatar__subtitle" itemprop="description">Ledger Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-summary">High level summary<a class="hash-link" href="#high-level-summary" title="Direct link to heading">​</a></h2><p>We continued to make progress on CIP-1694 and the conway ledger era.
In particular, the conway era now supports Plutus V3.
Finally, we made small improvements to the ledger API and now host
our Haskell code documentation (haddocks) on github pages.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="low-level-summary">Low level summary<a class="hash-link" href="#low-level-summary" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="conway-ledger-era">Conway ledger era<a class="hash-link" href="#conway-ledger-era" title="Direct link to heading">​</a></h3><ul><li>[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3365" target="_blank" rel="noopener noreferrer">pull-3365</a>] - Support for Plutus V3.</li><li>[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3368" target="_blank" rel="noopener noreferrer">pull-3368</a>] - Conway genesis fix.</li><li>[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3369" target="_blank" rel="noopener noreferrer">pull-3369</a>] - Added some governance ledger state.</li><li>[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3372" target="_blank" rel="noopener noreferrer">pull-3372</a>] - Work on the conway delegation certificates.</li><li>[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3384" target="_blank" rel="noopener noreferrer">pull-3384</a>] - Rename.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="haddocks-hosted-on-github-pages">Haddocks hosted on github pages<a class="hash-link" href="#haddocks-hosted-on-github-pages" title="Direct link to heading">​</a></h3><ul><li>[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3385" target="_blank" rel="noopener noreferrer">pull-3385</a>] </li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="small-improvements-to-the-api">Small improvements to the API<a class="hash-link" href="#small-improvements-to-the-api" title="Direct link to heading">​</a></h3><ul><li>[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3366" target="_blank" rel="noopener noreferrer">pull-3366</a>]</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="technical-debt">Technical Debt<a class="hash-link" href="#technical-debt" title="Direct link to heading">​</a></h3><ul><li>[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3367" target="_blank" rel="noopener noreferrer">pull-3367</a>] Fix cost model json instances.</li><li>[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3371" target="_blank" rel="noopener noreferrer">pull-3371</a>] UMap cleanup.</li><li>[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3373" target="_blank" rel="noopener noreferrer">pull-3373</a>] Upgrade to ghc 9.2.7 and cabal 3.10.1.</li><li>[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3375" target="_blank" rel="noopener noreferrer">pull-3375</a>] Sadly, we had to revert the <code>TICKF</code> optimizations. There was a regression we do not yet understand.</li><li>[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3377" target="_blank" rel="noopener noreferrer">pull-3377</a>] Fix cabal warnings.</li><li>[<a href="https://github.com/input-output-hk/cardano-ledger/pull/3383" target="_blank" rel="noopener noreferrer">pull-3383</a>] Fix multi-asset test.</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/cardano-updates/tags/ledger">ledger</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/cardano-updates/2023-04-17-ledger">Incident Report</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-04-17T00:00:00.000Z" itemprop="datePublished">April 17, 2023</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/kevinhammond" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/kevinhammond.png" alt="Kevin Hammond"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/kevinhammond" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Kevin Hammond</span></a></div><small class="avatar__subtitle" itemprop="description">Head of Software Engineering, Cardano Core</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="incident-reporting-cardano-block-production-temporary-outage">Incident reporting: Cardano block production temporary outage<a class="hash-link" href="#incident-reporting-cardano-block-production-temporary-outage" title="Direct link to heading">​</a></h2><p>On Sunday, January 22, 2023, an incident occurred resulting in block production pausing for a brief period of time (approximately two minutes, similar to the usual pause at an epoch boundary). Around 50% of block-producing nodes and relays restarted during this period. Having restarted, nodes continued to produce blocks without failure. While the network continued to operate, the issue did have the potential to affect network integrity, so was flagged as a ‘critical’ incident, thus warranting immediate response and investigation by IOG engineers.
The investigation (with SPO &amp; Cardano Foundation collaboration) quickly revealed the cause of the issue – a complex bug in data structure handling code related to the precise order of insertion/deletion of multi-asset tokens into the internal ledger record. Input Output Global (IOG) engineers, along with SPOs and DApp developers, collectively identified how to reproduce the issue as a unit test that could be included in the standard Cardano node test suite.
Following successful testing, this led to a bug fix being implemented, tested, benchmarked, and deployed as a hotfix in the node v.1.35.5 release on Friday, January 27, 2023. Care was taken not to highlight the exact cause of the bug during this process so that it could not be exploited prior to SPOs deploying this new node version.
With the fix deployed, the Cardano SPO and developer community have not seen any further instances of this issue.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="further-details">Further Details<a class="hash-link" href="#further-details" title="Direct link to heading">​</a></h3><p>You can read more details on the incident and how it was managed from SundaeSwap’s Pi Lanningham <a href="https://www.314pool.com/post/cardano-post-mortem-1" target="_blank" rel="noopener noreferrer">here</a>. Thanks again to all the community for its support in identifying and fixing this bug.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/cardano-updates/tags/ledger">ledger</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/cardano-updates/2023-03-31-ledger">Ledger Team Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-03-31T00:00:00.000Z" itemprop="datePublished">March 31, 2023</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/JaredCorduan.png" alt="Jared Corduan"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jared Corduan</span></a></div><small class="avatar__subtitle" itemprop="description">Ledger Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-summary">High level summary<a class="hash-link" href="#high-level-summary" title="Direct link to heading">​</a></h2><p>We are still heavily involved in work related to preparing the next release.
The other main thing we have worked on is experimentation about how we will
handle the DRep stake distribution for CIP-1694 in the conway ledger era.
Lastly, we merged a fix for
<a href="https://github.com/input-output-hk/cardano-node/issues/4826" target="_blank" rel="noopener noreferrer">node-4826</a>
into our main branch (there will be a post-mortem shortly).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="low-level-summary">Low level summary<a class="hash-link" href="#low-level-summary" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="support-for-the-next-release">Support for the next release<a class="hash-link" href="#support-for-the-next-release" title="Direct link to heading">​</a></h3><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3363" target="_blank" rel="noopener noreferrer">pull-3363</a> - Fix problems relating to Arbitrary instances used by consensus.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3361" target="_blank" rel="noopener noreferrer">pull-3361</a> - Remove the alonze genesis from the conway genesis.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3360" target="_blank" rel="noopener noreferrer">pull-3360</a> - Translate bad pointer addresses to valid ones in conway.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3357" target="_blank" rel="noopener noreferrer">pull-3357</a> - Fix a bug relating to zero valued ADA in the script context.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3356" target="_blank" rel="noopener noreferrer">pull-3356</a> - Added needed instances (Arbitrary and Serialization) for conway integration.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3345" target="_blank" rel="noopener noreferrer">pull-3345</a> - Added helper functions for the CLI.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3342" target="_blank" rel="noopener noreferrer">pull-3342</a> - Fix a bug with a CLI helper function (having to do with deposit tracking).</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="experiments-for-drep-stake-distribution">Experiments for DRep stake distribution<a class="hash-link" href="#experiments-for-drep-stake-distribution" title="Direct link to heading">​</a></h3><p>Adding another stake distribution to the ledger state presents some new challenges.
We would like to be able to use the current stake distribution at the epoch boundary
for DRep voting so that people can always vote themselves in time for any proposal.
To this end, we have a prototype of an incremental computation based on the incremental
lambda calculus, together with tests and benchmarks (which are very promising).
See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3344" target="_blank" rel="noopener noreferrer">pull-3344</a>.</p><p>Additionally, more of the ledger state is going to need to be rearranged to accomodate
the new incremental computations.
We have two draft PRs up for possibles solution.
See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3353" target="_blank" rel="noopener noreferrer">pull-3353</a> and <a href="https://github.com/input-output-hk/cardano-ledger/pull/3364" target="_blank" rel="noopener noreferrer">pull-3364</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="technical-debt-and-bug-fixes">Technical debt and bug fixes<a class="hash-link" href="#technical-debt-and-bug-fixes" title="Direct link to heading">​</a></h3><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3343" target="_blank" rel="noopener noreferrer">pull-3343</a> - A fix <a href="https://github.com/input-output-hk/cardano-node/issues/4826" target="_blank" rel="noopener noreferrer">node-4826</a>.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3333" target="_blank" rel="noopener noreferrer">pull-3333</a> - Moving more code out of the shelley packages. </li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3347" target="_blank" rel="noopener noreferrer">pull-3347</a> - Bug fix for the multi-asset generators.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3341" target="_blank" rel="noopener noreferrer">pull-3341</a> - Removal of code duplication.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="documentation-changes">Documentation changes<a class="hash-link" href="#documentation-changes" title="Direct link to heading">​</a></h3><ul><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3354" target="_blank" rel="noopener noreferrer">pull-3354</a> - Rename &quot;optional datums&quot; with &quot;supplemental datums&quot; in the alonzo spec.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3352" target="_blank" rel="noopener noreferrer">pull-3352</a> - Add a section to the Shelly errata about the individual deposit tracking.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3351" target="_blank" rel="noopener noreferrer">pull-3351</a> - Further clarify the details regarding the script integrity hash.</li><li><a href="https://github.com/input-output-hk/cardano-ledger/pull/3350" target="_blank" rel="noopener noreferrer">pull-3350</a> - Some cleanup of the Babbage spec.</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/cardano-updates/tags/ledger">ledger</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/cardano-updates/2023-03-17-ledger">Ledger Team Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-03-17T00:00:00.000Z" itemprop="datePublished">March 17, 2023</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/JaredCorduan.png" alt="Jared Corduan"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jared Corduan</span></a></div><small class="avatar__subtitle" itemprop="description">Ledger Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-summary">High level summary<a class="hash-link" href="#high-level-summary" title="Direct link to heading">​</a></h2><p>We made further progress on the conway ledger era.
In particular, we expanded the ledger API significantly, including lots of governance features.
We also made progress on the specification and corresponding work in the Haskell implementation.</p><p>We also continued to integrate the latest ledger packages into cardano node and addressed
technical debt.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="low-level-summary">Low level summary<a class="hash-link" href="#low-level-summary" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="expanded-ledger-api">Expanded ledger API<a class="hash-link" href="#expanded-ledger-api" title="Direct link to heading">​</a></h3><p>The ledger API was significantly expanded to include:</p><ul><li>a lot of protocol parameter support</li><li>versioning support (type level ledger eras and protocol versions)</li><li>auxiliary data support</li><li>many new lenses</li><li>support for witnesses</li><li>support for conway governance</li></ul><p>See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3328" target="_blank" rel="noopener noreferrer">pull-3328</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="conway-ledger-rules">Conway ledger rules<a class="hash-link" href="#conway-ledger-rules" title="Direct link to heading">​</a></h3><p>We have made progress on the formal ledger specification for the Conway era.
Moreover, the corresponding Haskell updates were also completed:</p><ul><li>See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3339" target="_blank" rel="noopener noreferrer">pull-3339</a></li><li>See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3326" target="_blank" rel="noopener noreferrer">pull-3326</a></li><li>See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3330" target="_blank" rel="noopener noreferrer">pull-3330</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="incremental-spodrep-stake-distribution-computation">Incremental SPO/DRep stake distribution computation<a class="hash-link" href="#incremental-spodrep-stake-distribution-computation" title="Direct link to heading">​</a></h3><p>We have a working (and correct) proof of concept for how to use the incremental lambda calculus
to maintain several of the stake distributions incrementally.
For the per-SPO distribution, this is a performance improvement.
For the (conway) per-DRep distribution, this is will allow those who have delegated their votes
to a DRep to have time to react to any votes that they disapprove of.
(Sorry, no code to share just yet, more to come.)</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="technical-debt">Technical debt<a class="hash-link" href="#technical-debt" title="Direct link to heading">​</a></h3><ul><li>Improved CBOR testing facilities <a href="https://github.com/input-output-hk/cardano-ledger/pull/3332" target="_blank" rel="noopener noreferrer">pull-3332</a></li><li>GitHub actions improvement <a href="https://github.com/input-output-hk/cardano-ledger/pull/3320" target="_blank" rel="noopener noreferrer">pull-3320</a></li><li>Move ToJSON orphans from cardano-node <a href="https://github.com/input-output-hk/cardano-ledger/pull/3338" target="_blank" rel="noopener noreferrer">pull-3323</a></li><li>Minor OCert improvements <a href="https://github.com/input-output-hk/cardano-ledger/pull/3327" target="_blank" rel="noopener noreferrer">pull-3327</a></li><li>Remove duplication <a href="https://github.com/input-output-hk/cardano-ledger/pull/3341" target="_blank" rel="noopener noreferrer">pull-3341</a></li><li>Enforce unique elements in CBOR sets <a href="https://github.com/input-output-hk/cardano-ledger/pull/3331" target="_blank" rel="noopener noreferrer">pull-3331</a> </li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/cardano-updates/tags/ledger">ledger</a></li></ul></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="title_f1Hy" itemprop="headline"><a itemprop="url" href="/cardano-updates/2023-03-03-ledger">Ledger Team Update</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2023-03-03T00:00:00.000Z" itemprop="datePublished">March 3, 2023</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/JaredCorduan.png" alt="Jared Corduan"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/JaredCorduan" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jared Corduan</span></a></div><small class="avatar__subtitle" itemprop="description">Ledger Team Lead</small></div></div></div></div></header><div class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-summary">High level summary<a class="hash-link" href="#high-level-summary" title="Direct link to heading">​</a></h2><p>We have focused the last two weeks on CIP-1694, integration of the last several months of ledger
work into consensus and node, and testing infrastrutcture that we will use in the conway ledger era.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="low-level-summary">Low level summary<a class="hash-link" href="#low-level-summary" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="conway-rules">Conway rules<a class="hash-link" href="#conway-rules" title="Direct link to heading">​</a></h3><p>We made a major update to the conway era so that the implementation is now in sync with the spec
with respect to the ratification and enactment logic.</p><p>See the notes in <a href="https://github.com/input-output-hk/cardano-ledger/pull/3291" target="_blank" rel="noopener noreferrer">pull-3291</a> for more details.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="constraint-based-generators">Constraint based generators<a class="hash-link" href="#constraint-based-generators" title="Direct link to heading">​</a></h3><p>This week we hit a major milestone in our efforts to build out better property based testing
support for the main ledger properties.
The new constraint based generators can now generate full ledger states with what is probably
very close to the real constraints (if anything, it is under constrained).
Next we will work on generating a transaction in the context of a ledger state, which would allow
us to actually start using these generators for real tests.</p><p>See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3219" target="_blank" rel="noopener noreferrer">pull-3219</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="preparing-a-release-now-with-proper-versioning">Preparing a release, now with proper versioning<a class="hash-link" href="#preparing-a-release-now-with-proper-versioning" title="Direct link to heading">​</a></h3><p>After quite some time, we are ready to release a version of ledger that will work with a new
version of consensus, using CHaPs.</p><p>See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3308" target="_blank" rel="noopener noreferrer">pull-3308</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="technical-debt">Technical debt<a class="hash-link" href="#technical-debt" title="Direct link to heading">​</a></h3><ul><li>We cleaned up the redeemer serialization code (to prevent future mistakes). See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3269" target="_blank" rel="noopener noreferrer">pull-3269</a>.</li><li>We added a note to the Alonzo spec, specifying that the transaction inputs are
lexicographically ordered in the Plutus script context. See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3306" target="_blank" rel="noopener noreferrer">pull-3306</a>.</li><li>We fixed a problem with the address deserialiazation
(we mistakenly fixed a bug in the Babbage era which cannot be fixed until Conway).
See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3307" target="_blank" rel="noopener noreferrer">pull-3307</a>.</li><li>We fixed a problem with our nix build. See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3311" target="_blank" rel="noopener noreferrer">pull-3311</a>.</li><li>We fixed a problem with our <code>NoThunks</code> tests. See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3310" target="_blank" rel="noopener noreferrer">pull-3310</a>.</li><li>We improved our nightly tests. See <a href="https://github.com/input-output-hk/cardano-ledger/pull/3316" target="_blank" rel="noopener noreferrer">pull-3316</a>.</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/cardano-updates/tags/ledger">ledger</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/cardano-updates/tags/ledger/page/2"><div class="pagination-nav__label">Older Entries</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Blog</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/cardano-updates/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/cardano-updates/archive">Archive</a></li><li class="footer__item"><a class="footer__link-item" href="/cardano-updates/tags">Tags</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Input Output Global, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/cardano-updates/assets/js/runtime~main.6970cb6a.js"></script>
<script src="/cardano-updates/assets/js/main.5e227167.js"></script>
</body>
</html>